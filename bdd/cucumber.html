<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Cucumber.js</title>

    <link href="../node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="cucumber.css" rel="stylesheet" type="text/css"/>

    <link href="../images/favicon.png" rel="icon" type="image/png">

    <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.3/ace.js"></script>

    <!-- Hack to get ansi-html to run in the browser -->
    <script type="text/javascript">
        var module = {};
    </script>
    <script type="text/javascript">
        var ansiHTML = module.exports;
        module = null;
    </script>

    <script type="text/javascript" src="../node_modules/cucumber/dist/cucumber.js"></script>
</head>
<body>
<div class="header">
    <a href="https://cucumber.io/">
        <img class="cucumber-logo" src="../images/cucumber.svg">
    </a>
    <a href="https://github.com/cucumber/cucumber-js">
        <img class="github-logo" src="../images/github.png">
    </a>
</div>

<div class="main">
    <ul class="nav nav-pills" role="tablist">
        <li class="active"><a href="#feature-tab" data-toggle="tab">Feature</a></li>
        <li><a href="#step-definitions-tab" data-toggle="tab">Step Definitions</a></li>
        <li><a href="#output-tab" data-toggle="tab">Output</a></li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane active" id="feature-tab">
            <div id="feature">
                Loading...
            </div>
        </div>
        <div class="tab-pane" id="step-definitions-tab">
            <div id="step-definitions">
                Loading...
            </div>
        </div>
        <div class="tab-pane" id="output-tab">
            <pre id="output"></pre>
        </div>
    </div>
</div>
<script id="loader">
    document.featureReady = fetch("./features/simple-maths.feature").then(response => response.text()).then(feature => {
        document.getElementById('feature').innerHTML = feature;
    });
    document.stepDefinitionsReady = fetch("./stepdefs/step-definitions.js").then(response => response.text()).then(stepdefs => {
        document.getElementById('step-definitions').innerHTML = stepdefs;
    });
    Promise.all([
        document.featureReady,
        document.stepDefinitionsReady
    ]).then(() => {
        const script = document.createElement('script');
        script.src = "../node_modules/cucumber/dist/browser-example.js";
        document.head.appendChild(script);
    });
</script>
<div class="footer">
    <button class="btn" id="run-feature">Run Feature</button>
</div>
</body>
</html>